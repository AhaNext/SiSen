<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dasbor Proyek Interaktif - SiSen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: Saya merancang aplikasi ini sebagai dasbor proyek vertikal dengan navigasi samping. Struktur ini dipilih karena memungkinkan pengguna untuk dengan mudah melompat antar fase proyek yang berbeda (Arsitektur, Database, API, dll.) tanpa harus menggulir dokumen yang panjang. Setiap bagian dirancang untuk menjadi interaktif (misalnya, tabel database yang dapat diklik, endpoint API yang dapat diperluas) untuk mengubah informasi teknis yang padat menjadi pengalaman yang lebih menarik dan mudah dicerna. Alur pengguna dimulai dari ringkasan umum dan memungkinkan penyelaman mendalam ke setiap komponen teknis sesuai kebutuhan. -->
    <!-- Visualization & Content Choices: 
        - Laporan Proyek -> Tujuan: Menyajikan tumpukan teknologi -> Metode: Kartu Info dengan Ikon -> Interaksi: Tidak ada, hanya visual -> Justifikasi: Memisahkan komponen (Mobile, Web, Backend) secara visual agar mudah dipindai. -> Library/Metode: HTML/Tailwind.
        - Skema Database -> Tujuan: Menjelaskan struktur data -> Metode: Representasi Tabel Visual -> Interaksi: Klik untuk menampilkan/menyembunyikan kode SQL -> Justifikasi: Lebih menarik daripada blok kode biasa dan memungkinkan fokus pada satu tabel pada satu waktu. -> Library/Metode: HTML/Tailwind/JS.
        - Endpoint API -> Tujuan: Mendokumentasikan API -> Metode: Akordeon -> Interaksi: Klik untuk memperluas/menutup detail endpoint -> Justifikasi: Menghemat ruang dan mengurangi kekacauan visual, memungkinkan pengguna hanya melihat detail yang relevan. -> Library/Metode: HTML/Tailwind/JS.
        - Desain UI Aplikasi -> Tujuan: Memvisualisasikan UI/UX yang diusulkan -> Metode: Wireframe HTML/CSS + Grafik Contoh -> Interaksi: Visual, dengan grafik interaktif (hover) -> Justifikasi: Memberikan gambaran nyata tentang produk akhir, jauh lebih efektif daripada daftar teks. Grafik contoh (Chart.js) menunjukkan kemampuan visualisasi data dasbor. -> Library/Metode: HTML/Tailwind/Chart.js.
        - Rencana Deployment -> Tujuan: Menguraikan langkah-langkah akhir -> Metode: Daftar Periksa Visual -> Interaksi: Tidak ada, hanya visual -> Justifikasi: Format yang jelas dan ringkas untuk langkah-langkah berurutan. -> Library/Metode: HTML/Tailwind.
        - Kalkulasi Gaji -> Tujuan: Menjelaskan logika bisnis penggajian -> Metode: Tabel rincian dan contoh slip gaji -> Interaksi: Tidak ada, hanya visual -> Justifikasi: Memberikan transparansi pada proses perhitungan gaji yang kompleks. -> Library/Metode: HTML/Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .doughnut-chart-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 300px;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar Navigation -->
        <aside class="w-full md:w-64 bg-white border-b md:border-r border-stone-200 p-4 md:p-6 sticky top-0 md:h-screen overflow-y-auto">
            <h1 class="text-2xl font-bold text-teal-700 mb-1">SiSen</h1>
            <p class="text-sm text-stone-500 mb-6">Dasbor Rencana Proyek</p>
            <nav>
                <ul class="space-y-2" id="navigation">
                    <li><a href="#ringkasan" class="nav-link flex items-center px-4 py-2 text-stone-700 bg-teal-50 border-l-4 border-teal-600 font-semibold rounded-r-md">Ringkasan Proyek</a></li>
                    <li><a href="#arsitektur" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Arsitektur & Teknologi</a></li>
                    <li><a href="#database" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Struktur Database</a></li>
                    <li><a href="#api" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Endpoint API</a></li>
                    <li><a href="#webapp" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Aplikasi Web (Admin)</a></li>
                    <li><a href="#mobileapp" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Aplikasi Mobile (Pegawai)</a></li>
                    <li><a href="#payroll" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Kalkulasi Gaji</a></li>
                    <li><a href="#laporan" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Laporan Keseluruhan</a></li>
                    <li><a href="#deployment" class="nav-link flex items-center px-4 py-2 text-stone-600 hover:bg-stone-100 rounded-md">Deployment & Pengujian</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-10 overflow-y-auto">
            
            <!-- Section: Ringkasan Proyek -->
            <section id="ringkasan" class="content-section active">
                <h2 class="text-3xl font-bold mb-4">Ringkasan Proyek Aplikasi "SiSen"</h2>
                <p class="text-lg text-stone-600 mb-8">Selamat datang di dasbor interaktif untuk proyek SiSen (**Si**stem Ab**sen**si). Dokumen ini mengubah rencana teknis menjadi panduan visual yang mudah dijelajahi. SiSen adalah sistem HR terintegrasi yang dirancang untuk meningkatkan efisiensi pencatatan kehadiran dan proses penggajian. Aplikasi ini akan dilengkapi dengan fitur absensi berbasis foto dan GPS, manajemen laporan, pengajuan lembur, dan kalkulasi gaji otomatis. Gunakan navigasi di samping untuk menjelajahi setiap fase pengembangan proyek ini.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-bold text-xl mb-2 text-teal-700">Tujuan Utama</h3>
                        <ul class="list-disc list-inside space-y-2 text-stone-600">
                            <li>Absensi akurat dengan validasi foto dan GPS.</li>
                            <li>Dasbor web komprehensif untuk manajemen HR.</li>
                            <li>Laporan kehadiran dan rekapitulasi yang detail.</li>
                            <li>Sistem pengajuan lembur, izin, dan sakit.</li>
                            <li>Proses kalkulasi gaji yang transparan dan otomatis.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-bold text-xl mb-2 text-teal-700">Fitur Kunci</h3>
                         <ul class="list-disc list-inside space-y-2 text-stone-600">
                            <li>Clock-in & Clock-out via Mobile</li>
                            <li>Manajemen Laporan Absensi (Hadir, Sakit, Izin, Alfa)</li>
                            <li>Manajemen Pengajuan Lembur</li>
                            <li>Manajemen Komponen Gaji</li>
                            <li>Perhitungan & Pembuatan Slip Gaji Otomatis</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Section: Laporan Keseluruhan -->
            <section id="laporan" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Laporan Keseluruhan (Contoh Periode Juli 2025)</h2>
                <p class="text-lg text-stone-600 mb-8">Bagian ini memberikan pandangan tingkat tinggi terhadap data HR perusahaan dalam satu periode. Kartu ringkasan menyoroti metrik-metrik kunci, sementara tabel di bawahnya menyajikan rekapitulasi per pegawai.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-5 rounded-lg border border-stone-200">
                        <h4 class="text-sm font-medium text-stone-500">Total Gaji Dibayarkan</h4>
                        <p class="text-3xl font-bold text-teal-700 mt-1">Rp 22.92 Juta</p>
                    </div>
                    <div class="bg-white p-5 rounded-lg border border-stone-200">
                        <h4 class="text-sm font-medium text-stone-500">Total Jam Lembur</h4>
                        <p class="text-3xl font-bold text-teal-700 mt-1">15 Jam</p>
                    </div>
                    <div class="bg-white p-5 rounded-lg border border-stone-200">
                        <h4 class="text-sm font-medium text-stone-500">Tingkat Kehadiran</h4>
                        <p class="text-3xl font-bold text-teal-700 mt-1">93.2%</p>
                    </div>
                     <div class="bg-white p-5 rounded-lg border border-stone-200">
                        <h4 class="text-sm font-medium text-stone-500">Total Pegawai (Contoh)</h4>
                        <p class="text-3xl font-bold text-teal-700 mt-1">4</p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg border border-stone-200">
                    <h3 class="font-bold text-xl mb-4">Rekapitulasi Laporan Gaji & Absensi per Pegawai</h3>
                    <div class="w-full overflow-x-auto">
                        <table class="w-full text-sm text-left text-stone-500">
                            <thead class="text-xs text-stone-700 uppercase bg-stone-100">
                                <tr>
                                    <th scope="col" class="px-4 py-3">Pegawai</th>
                                    <th scope="col" class="px-4 py-3 text-center">Hadir</th>
                                    <th scope="col" class="px-4 py-3 text-center">Lembur (Jam)</th>
                                    <th scope="col" class="px-4 py-3 text-right">Pendapatan</th>
                                    <th scope="col" class="px-4 py-3 text-right">Potongan</th>
                                    <th scope="col" class="px-4 py-3 text-right">Gaji Bersih</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white border-b">
                                    <td class="px-4 py-4 font-medium">Budi Santoso</td>
                                    <td class="px-4 py-4 text-center">20</td>
                                    <td class="px-4 py-4 text-center">5</td>
                                    <td class="px-4 py-4 text-right">Rp 6.150.000</td>
                                    <td class="px-4 py-4 text-right text-red-600">(Rp 277.272)</td>
                                    <td class="px-4 py-4 text-right font-semibold">Rp 5.872.728</td>
                                </tr>
                                 <tr class="bg-stone-50 border-b">
                                    <td class="px-4 py-4 font-medium">Citra Lestari</td>
                                    <td class="px-4 py-4 text-center">21</td>
                                    <td class="px-4 py-4 text-center">8</td>
                                    <td class="px-4 py-4 text-right">Rp 6.240.000</td>
                                    <td class="px-4 py-4 text-right text-red-600">(Rp 0)</td>
                                    <td class="px-4 py-4 text-right font-semibold">Rp 6.240.000</td>
                                </tr>
                                <tr class="bg-white border-b">
                                    <td class="px-4 py-4 font-medium">Adi Nugroho</td>
                                    <td class="px-4 py-4 text-center">22</td>
                                    <td class="px-4 py-4 text-center">2</td>
                                    <td class="px-4 py-4 text-right">Rp 5.560.000</td>
                                    <td class="px-4 py-4 text-right text-red-600">(Rp 0)</td>
                                    <td class="px-4 py-4 text-right font-semibold">Rp 5.560.000</td>
                                </tr>
                                <tr class="bg-stone-50 border-b">
                                    <td class="px-4 py-4 font-medium">Dewi Anggraini</td>
                                    <td class="px-4 py-4 text-center">19</td>
                                    <td class="px-4 py-4 text-center">0</td>
                                    <td class="px-4 py-4 text-right">Rp 5.250.000</td>
                                    <td class="px-4 py-4 text-right text-red-600">(Rp 0)</td>
                                    <td class="px-4 py-4 text-right font-semibold">Rp 5.250.000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Section: Arsitektur & Teknologi -->
            <section id="arsitektur" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Arsitektur & Tumpukan Teknologi</h2>
                <p class="text-lg text-stone-600 mb-8">Bagian ini merinci fondasi teknologi yang akan digunakan untuk membangun setiap komponen aplikasi SiSen. Pemilihan teknologi ini bertujuan untuk efisiensi pengembangan, skalabilitas, dan keandalan sistem.</p>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-semibold text-xl mb-3">Aplikasi Mobile (Pegawai)</h3>
                        <div class="space-y-2">
                            <p><strong>Framework:</strong> React Native (Expo)</p>
                            <p><strong>Library Kunci:</strong></p>
                            <ul class="text-sm list-disc list-inside text-stone-600">
                                <li>expo-camera</li>
                                <li>expo-location</li>
                                <li>react-native-maps</li>
                                <li>axios</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-semibold text-xl mb-3">Aplikasi Web (Manajemen)</h3>
                        <div class="space-y-2">
                            <p><strong>Framework:</strong> React.js (Vite)</p>
                            <p><strong>Library Kunci:</strong></p>
                             <ul class="text-sm list-disc list-inside text-stone-600">
                                <li>Material-UI / Ant Design</li>
                                <li>axios</li>
                                <li>Recharts / Chart.js</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-semibold text-xl mb-3">Backend & Infrastruktur</h3>
                        <div class="space-y-2">
                            <p><strong>Framework:</strong> Node.js (Express.js)</p>
                            <p><strong>Database:</strong> PostgreSQL + PostGIS</p>
                            <p><strong>Otentikasi:</strong> JWT</p>
                            <p><strong>Penyimpanan File:</strong> Google Cloud Storage / S3</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Struktur Database -->
            <section id="database" class="content-section">
                 <h2 class="text-3xl font-bold mb-4">Struktur Database</h2>
                 <p class="text-lg text-stone-600 mb-8">Struktur data diperluas untuk mengakomodasi fitur penggajian. Tabel baru seperti `salary_components` dan `payslips` ditambahkan, dan tabel `attendance_records` diperbarui untuk status yang lebih beragam. Klik pada setiap tabel untuk melihat skema SQL detailnya.</p>
                 <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="db-tables">
                    <!-- Tables will be injected by JS -->
                 </div>
            </section>

            <!-- Section: Endpoint API -->
            <section id="api" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Endpoint API</h2>
                <p class="text-lg text-stone-600 mb-8">Endpoint API diperbarui dengan grup baru untuk `/payroll` yang menangani semua logika terkait penggajian. Endpoint `/attendance` juga dimodifikasi untuk menerima status absensi yang lebih bervariasi.</p>
                <div class="space-y-4" id="api-endpoints">
                    <!-- API Endpoints will be injected by JS -->
                </div>
            </section>

            <!-- Section: Web App -->
            <section id="webapp" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Visualisasi Aplikasi Web (Manajemen)</h2>
                <p class="text-lg text-stone-600 mb-8">Antarmuka admin kini mencakup rekapitulasi status kehadiran dan laporan absensi yang lebih detail. Ini memberikan gambaran lengkap tentang produktivitas dan kedisiplinan pegawai.</p>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-bold text-xl mb-4">Rekapitulasi Kehadiran Bulanan</h3>
                        <div class="doughnut-chart-container">
                            <canvas id="attendanceDoughnutChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-stone-200">
                        <h3 class="font-bold text-xl mb-4">Contoh Halaman Laporan Absensi</h3>
                        <div class="w-full overflow-x-auto">
                            <table class="w-full text-sm text-left text-stone-500">
                                <thead class="text-xs text-stone-700 uppercase bg-stone-100">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">Pegawai</th>
                                        <th scope="col" class="px-6 py-3">Tanggal</th>
                                        <th scope="col" class="px-6 py-3">Status</th>
                                        <th scope="col" class="px-6 py-3">Keterangan</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b">
                                        <td class="px-6 py-4">Budi Santoso</td>
                                        <td class="px-6 py-4">2025-07-31</td>
                                        <td class="px-6 py-4"><span class="bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">Hadir</span></td>
                                        <td class="px-6 py-4">Masuk: 08:02, Pulang: 17:05</td>
                                    </tr>
                                     <tr class="bg-stone-50 border-b">
                                        <td class="px-6 py-4">Citra Lestari</td>
                                        <td class="px-6 py-4">2025-07-31</td>
                                        <td class="px-6 py-4"><span class="bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">Izin</span></td>
                                        <td class="px-6 py-4">Keperluan keluarga</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <td class="px-6 py-4">Adi Nugroho</td>
                                        <td class="px-6 py-4">2025-07-31</td>
                                        <td class="px-6 py-4"><span class="bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">Alfa</span></td>
                                        <td class="px-6 py-4">-</td>
                                    </tr>
                                    <tr class="bg-stone-50 border-b">
                                        <td class="px-6 py-4">Dewi Anggraini</td>
                                        <td class="px-6 py-4">2025-07-30</td>
                                        <td class="px-6 py-4"><span class="bg-orange-100 text-orange-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">Sakit</span></td>
                                        <td class="px-6 py-4">Surat dokter terlampir</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Mobile App -->
            <section id="mobileapp" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Visualisasi Aplikasi Mobile (Pegawai)</h2>
                <p class="text-lg text-stone-600 mb-8">Aplikasi mobile diperbarui untuk memungkinkan pegawai tidak hanya melakukan absensi, tetapi juga mengajukan izin atau sakit, serta melihat riwayat pengajuan mereka.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg border border-stone-200 p-4 flex flex-col items-center">
                        <div class="w-72 h-auto bg-stone-100 rounded-xl p-4 shadow-md">
                            <p class="text-sm text-stone-500">Layar Utama</p>
                            <p class="font-semibold mt-4">Selamat Pagi, Budi!</p>
                            <div class="bg-white text-center p-4 rounded-lg my-4">
                                <p class="text-stone-600">Anda sudah clock-in pukul 08:02</p>
                            </div>
                            <button class="w-full bg-red-600 text-white font-bold py-3 rounded-lg">Clock Out</button>
                            <div class="flex gap-2 mt-2">
                                <button class="w-full bg-blue-500 text-white font-semibold py-2 rounded-lg text-sm">Ajukan Izin</button>
                                <button class="w-full bg-orange-500 text-white font-semibold py-2 rounded-lg text-sm">Ajukan Sakit</button>
                            </div>
                        </div>
                        <p class="text-center text-sm text-stone-500 mt-2">1. Layar Utama</p>
                    </div>
                    <div class="bg-white rounded-lg border border-stone-200 p-4 flex flex-col items-center">
                        <div class="w-72 h-auto bg-stone-100 rounded-xl p-4 shadow-md">
                            <p class="text-sm text-stone-500">Pengajuan Izin/Sakit</p>
                            <p class="font-semibold mt-4">Form Pengajuan</p>
                            <select class="w-full p-2 border rounded-md mt-2">
                                <option>Izin</option>
                                <option>Sakit</option>
                            </select>
                            <textarea class="w-full p-2 border rounded-md mt-2" rows="3" placeholder="Alasan..."></textarea>
                            <input type="file" class="text-sm mt-2">
                            <button class="w-full bg-teal-600 text-white font-bold py-3 rounded-lg mt-4">Kirim</button>
                        </div>
                        <p class="text-center text-sm text-stone-500 mt-2">2. Form Pengajuan</p>
                    </div>
                    <div class="bg-white rounded-lg border border-stone-200 p-4 flex flex-col items-center">
                        <div class="w-72 h-auto bg-stone-100 rounded-xl p-4 shadow-md">
                            <p class="text-sm text-stone-500">Riwayat Gaji (Budi Santoso)</p>
                            <p class="font-semibold mt-4">Slip Gaji - Juli 2025</p>
                             <ul class="text-sm space-y-1 mt-2">
                                <li class="flex justify-between"><span>Total Pendapatan:</span><span class="text-green-700">Rp 6.150.000</span></li>
                                <li class="flex justify-between"><span>Total Potongan:</span><span class="text-red-600">(Rp 277.272)</span></li>
                                <li class="flex justify-between font-bold border-t pt-2 mt-2"><span>Gaji Bersih:</span><span>Rp 5.872.728</span></li>
                            </ul>
                            <button class="w-full bg-gray-500 text-white font-bold py-2 rounded-lg mt-4 text-sm">Download PDF</button>
                        </div>
                        <p class="text-center text-sm text-stone-500 mt-2">3. Contoh Slip Gaji</p>
                    </div>
                </div>
            </section>

            <!-- Section: Payroll -->
            <section id="payroll" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Kalkulasi Gaji</h2>
                <p class="text-lg text-stone-600 mb-8">Fitur ini mengotomatiskan proses penggajian berdasarkan data kehadiran dan lembur yang tercatat. Admin dapat mengelola komponen gaji dan menghasilkan slip gaji secara efisien.</p>
                <div class="bg-white p-6 rounded-lg border border-stone-200">
                    <h3 class="font-bold text-xl mb-4">Contoh Perhitungan Gaji (Periode Juli 2025)</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-lg mb-2">Rekap Absensi: Budi Santoso</h4>
                            <ul class="space-y-1 text-stone-600">
                                <li class="flex justify-between"><span>Hari Kerja Efektif:</span> <span class="font-semibold">22 Hari</span></li>
                                <li class="flex justify-between"><span>Total Kehadiran:</span> <span class="font-semibold">20 Hari</span></li>
                                <li class="flex justify-between"><span>Total Lembur:</span> <span class="font-semibold">5 Jam</span></li>
                                <li class="flex justify-between"><span>Izin:</span> <span class="font-semibold">1 Hari</span></li>
                                <li class="flex justify-between"><span>Sakit:</span> <span class="font-semibold">0 Hari</span></li>
                                <li class="flex justify-between"><span>Alfa (Tanpa Keterangan):</span> <span class="font-semibold text-red-600">1 Hari</span></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-2">Rincian Gaji</h4>
                            <table class="w-full text-sm">
                                <tbody>
                                    <tr class="border-b"><td class="py-1">Gaji Pokok</td><td class="text-right">Rp 5.000.000</td></tr>
                                    <tr class="border-b"><td class="py-1">Tunjangan Transportasi</td><td class="text-right">Rp 500.000</td></tr>
                                    <tr class="border-b"><td class="py-1">Tunjangan Makan</td><td class="text-right">Rp 500.000</td></tr>
                                    <tr class="border-b"><td class="py-1">Upah Lembur (5 jam x Rp 30.000)</td><td class="text-right">Rp 150.000</td></tr>
                                    <tr class="border-b text-green-700"><td class="py-1 font-semibold">Total Pendapatan</td><td class="text-right font-semibold">Rp 6.150.000</td></tr>
                                    <tr class="border-b text-red-600"><td class="py-1">Potongan Alfa (1 hari)</td><td class="text-right">(Rp 227.272)</td></tr>
                                    <tr class="border-b text-red-600"><td class="py-1">Potongan BPJS</td><td class="text-right">(Rp 50.000)</td></tr>
                                    <tr class="bg-stone-100"><td class="py-2 font-bold">Gaji Bersih (Take Home Pay)</td><td class="text-right font-bold">Rp 5.872.728</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Deployment & Pengujian -->
            <section id="deployment" class="content-section">
                <h2 class="text-3xl font-bold mb-4">Rencana Deployment & Pengujian</h2>
                <p class="text-lg text-stone-600 mb-8">Fase terakhir adalah peluncuran dan pengujian aplikasi. Proses ini memastikan bahwa semua komponen, termasuk fitur penggajian baru, berfungsi dengan baik, aman, dan siap digunakan.</p>
                <div class="bg-white p-6 rounded-lg border border-stone-200">
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <div class="w-5 h-5 bg-teal-600 text-white rounded-full flex items-center justify-center mr-4 mt-1 flex-shrink-0">✓</div>
                            <div><strong class="block">Deployment Backend:</strong> Deploy API ke layanan cloud.</div>
                        </li>
                        <li class="flex items-start">
                            <div class="w-5 h-5 bg-teal-600 text-white rounded-full flex items-center justify-center mr-4 mt-1 flex-shrink-0">✓</div>
                            <div><strong class="block">Setup Database:</strong> Gunakan layanan database terkelola.</div>
                        </li>
                        <li class="flex items-start">
                            <div class="w-5 h-5 bg-teal-600 text-white rounded-full flex items-center justify-center mr-4 mt-1 flex-shrink-0">✓</div>
                            <div><strong class="block">Deployment Web App:</strong> Deploy aplikasi React ke Vercel atau Netlify.</div>
                        </li>
                         <li class="flex items-start">
                            <div class="w-5 h-5 bg-teal-600 text-white rounded-full flex items-center justify-center mr-4 mt-1 flex-shrink-0">✓</div>
                            <div><strong class="block">Build Mobile App:</strong> Kompilasi file APK dan IPA.</div>
                        </li>
                         <li class="flex items-start">
                            <div class="w-5 h-5 bg-teal-600 text-white rounded-full flex items-center justify-center mr-4 mt-1 flex-shrink-0">✓</div>
                            <div><strong class="block">Pengujian End-to-End:</strong> Lakukan pengujian menyeluruh, termasuk alur absensi, pengajuan, dan akurasi perhitungan gaji.</div>
                        </li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.nav-link');
    const contentSections = document.querySelectorAll('.content-section');
    const dbContainer = document.getElementById('db-tables');
    const apiContainer = document.getElementById('api-endpoints');

    const dbData = [
        { name: 'users', schema: `CREATE TABLE users (\n    id UUID PRIMARY KEY,\n    full_name VARCHAR(255),\n    email VARCHAR(255) UNIQUE,\n    password_hash VARCHAR(255),\n    role VARCHAR(50),\n    department_id UUID,\n    position_id UUID\n);` },
        { name: 'departments', schema: `CREATE TABLE departments (\n    id UUID PRIMARY KEY,\n    name VARCHAR(255)\n);` },
        { name: 'positions', schema: `CREATE TABLE positions (\n    id UUID PRIMARY KEY,\n    name VARCHAR(255)\n);` },
        { name: 'attendance_records', schema: `CREATE TABLE attendance_records (\n    id UUID PRIMARY KEY,\n    user_id UUID,\n    attendance_date DATE,\n    clock_in_time TIMESTAMPTZ,\n    clock_out_time TIMESTAMPTZ,\n    status VARCHAR(50) CHECK (status IN ('present', 'late', 'sick', 'permit', 'alpha')),\n    notes TEXT,\n    attachment_url TEXT\n);` },
        { name: 'overtime_requests', schema: `CREATE TABLE overtime_requests (\n    id UUID PRIMARY KEY,\n    user_id UUID,\n    request_date DATE,\n    start_time TIMESTAMPTZ,\n    end_time TIMESTAMPTZ,\n    reason TEXT,\n    status VARCHAR(50)\n);` },
        { name: 'salary_components', schema: `CREATE TABLE salary_components (\n    id UUID PRIMARY KEY,\n    user_id UUID,\n    name VARCHAR(255), -- e.g., 'Gaji Pokok', 'Tunjangan Transport'\n    type VARCHAR(50) CHECK (type IN ('earning', 'deduction')),\n    amount NUMERIC\n);` },
        { name: 'payslips', schema: `CREATE TABLE payslips (\n    id UUID PRIMARY KEY,\n    user_id UUID,\n    period_start DATE,\n    period_end DATE,\n    details JSONB, -- Store detailed breakdown of earnings and deductions\n    net_salary NUMERIC,\n    generated_at TIMESTAMPTZ\n);` }
    ];

    dbData.forEach(table => {
        const tableEl = document.createElement('div');
        tableEl.className = 'bg-white p-4 rounded-lg border border-stone-200 cursor-pointer hover:border-teal-500 hover:shadow-md transition-all';
        tableEl.innerHTML = `
            <h4 class="font-semibold text-lg text-stone-700">${table.name}</h4>
            <div class="schema-content hidden bg-stone-800 text-white text-sm rounded-md p-4 mt-4 overflow-x-auto">
                <pre><code>${table.schema}</code></pre>
            </div>
        `;
        dbContainer.appendChild(tableEl);
        tableEl.addEventListener('click', () => {
            tableEl.querySelector('.schema-content').classList.toggle('hidden');
        });
    });
    
    const apiData = [
        { group: 'Otentikasi (/auth)', endpoints: [ { method: 'POST', path: '/auth/login', desc: 'Login untuk user.' }, { method: 'GET', path: '/auth/me', desc: 'Mendapatkan data user yang sedang login.' } ] },
        { group: 'Absensi (/attendance)', endpoints: [ { method: 'POST', path: '/attendance/clock-in', desc: 'Mencatat absensi masuk.' }, { method: 'POST', path: '/attendance/clock-out', desc: 'Mencatat absensi keluar.' }, { method: 'POST', path: '/attendance/request', desc: 'Mengajukan izin atau sakit dengan lampiran.' }, { method: 'GET', path: '/attendance/report', desc: 'Mendapatkan laporan absensi dengan filter.' } ] },
        { group: 'Lembur (/overtime)', endpoints: [ { method: 'POST', path: '/overtime', desc: 'User mengajukan lembur.' }, { method: 'GET', path: '/overtime/requests', desc: 'Melihat semua pengajuan lembur.' }, { method: 'PUT', path: '/overtime/:requestId/status', desc: 'Menyetujui atau menolak pengajuan lembur.' } ] },
        { group: 'Penggajian (/payroll)', endpoints: [ { method: 'GET', path: '/payroll/components/:userId', desc: 'Mengambil semua komponen gaji untuk seorang user.' }, { method: 'POST', path: '/payroll/components', desc: 'Menambah atau mengubah komponen gaji.' }, { method: 'POST', path: '/payroll/generate', desc: 'Menghasilkan slip gaji untuk user pada periode tertentu.' }, { method: 'GET', path: '/payroll/history/:userId', desc: 'Melihat riwayat slip gaji user.' } ] },
        { group: 'Manajemen (/management)', endpoints: [ { method: 'CRUD', path: '/management/users', desc: 'Endpoint lengkap untuk mengelola data pegawai.' } ] }
    ];

    apiData.forEach(apiGroup => {
        const groupEl = document.createElement('div');
        groupEl.className = 'bg-white rounded-lg border border-stone-200';
        const headerEl = document.createElement('div');
        headerEl.className = 'p-4 cursor-pointer flex justify-between items-center';
        headerEl.innerHTML = `<h3 class="font-semibold text-lg">${apiGroup.group}</h3> <span class="transform transition-transform">▼</span>`;
        const contentEl = document.createElement('div');
        contentEl.className = 'hidden p-4 border-t border-stone-200';
        const listEl = document.createElement('ul');
        listEl.className = 'space-y-3';
        apiGroup.endpoints.forEach(endpoint => {
            const itemEl = document.createElement('li');
            let methodClass = 'bg-blue-100 text-blue-800';
            if(endpoint.method === 'POST') methodClass = 'bg-green-100 text-green-800';
            if(endpoint.method === 'PUT') methodClass = 'bg-yellow-100 text-yellow-800';
            if(endpoint.method === 'CRUD') methodClass = 'bg-purple-100 text-purple-800';
            itemEl.innerHTML = `<div class="flex items-center gap-4"><span class="font-mono text-xs font-semibold px-2 py-1 rounded ${methodClass}">${endpoint.method}</span><span class="font-mono text-sm text-stone-700">${endpoint.path}</span></div><p class="text-sm text-stone-600 mt-1 ml-2">${endpoint.desc}</p>`;
            listEl.appendChild(itemEl);
        });
        contentEl.appendChild(listEl);
        groupEl.appendChild(headerEl);
        groupEl.appendChild(contentEl);
        apiContainer.appendChild(groupEl);
        headerEl.addEventListener('click', () => {
            contentEl.classList.toggle('hidden');
            headerEl.querySelector('span').classList.toggle('rotate-180');
        });
    });

    let attendanceDoughnutChart;

    function renderDoughnutChart() {
        const doughnutCtx = document.getElementById('attendanceDoughnutChart');
        if (!doughnutCtx) return;

        if (attendanceDoughnutChart) {
            attendanceDoughnutChart.destroy();
        }

        attendanceDoughnutChart = new Chart(doughnutCtx.getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: ['Hadir', 'Sakit', 'Izin', 'Alfa'],
                datasets: [{
                    label: 'Rekap Kehadiran',
                    data: [20, 1, 1, 1],
                    backgroundColor: [
                        'rgba(13, 148, 136, 0.7)', // Teal for Hadir
                        'rgba(249, 115, 22, 0.7)', // Orange for Sakit
                        'rgba(59, 130, 246, 0.7)', // Blue for Izin
                        'rgba(220, 38, 38, 0.7)'  // Red for Alfa
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return ` ${context.label}: ${context.parsed} hari`;
                            }
                        }
                    }
                }
            }
        });
    }

    function switchTab(hash) {
        contentSections.forEach(section => {
            section.classList.toggle('active', '#' + section.id === hash);
        });
        navLinks.forEach(link => {
            if (link.getAttribute('href') === hash) {
                link.classList.add('bg-teal-50', 'border-l-4', 'border-teal-600', 'font-semibold', 'text-stone-700');
                link.classList.remove('text-stone-600', 'hover:bg-stone-100');
            } else {
                link.classList.remove('bg-teal-50', 'border-l-4', 'border-teal-600', 'font-semibold', 'text-stone-700');
                link.classList.add('text-stone-600', 'hover:bg-stone-100');
            }
        });
        if (hash === '#webapp') {
            renderDoughnutChart();
        }
    }

    document.getElementById('navigation').addEventListener('click', function(e) {
        if (e.target.tagName === 'A') {
            e.preventDefault();
            const hash = e.target.getAttribute('href');
            window.location.hash = hash;
            switchTab(hash);
        }
    });

    const initialHash = window.location.hash || '#ringkasan';
    switchTab(initialHash);
});
</script>

</body>
</html>
